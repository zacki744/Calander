
<!doctype html>


<header>
    <meta charset="utf-8">
    <title><%= title %></title>
    <link rel="stylesheet" href="/style/style.css">
    <link rel="icon" href="download.ico">

    <ul>
        <li><a href="/calendar/Home">Home</a></li>
        <li><a href="/calendar/pipeline">Pipeline</a></li>
        <li><a href="/calendar/category">Export</a></li>
        <li><a href="/calendar/complete">Completed</a></li>
    </ul>
</header>

<script src="https://cdn.anychart.com/releases/8.6.0/js/anychart-core.min.js"> </script> 
<script src ="https://cdn.anychart.com/releases/8.6.0/js/anychart-gantt.min.js"></script>
</head>
<p id="the_data" hidden><%= JSON.stringify(obj) %></p>
<body><br>
<div id = "container" > </div><br>

<script>
  anychart.onDocumentReady(function () {
    const elem = document.getElementById('the_data').innerHTML;
    data1 = JSON.parse(elem);
    // create a data tree
    var treeData = anychart.data.tree(data1, "as-tree");
  
    // create a chart
    var chart = anychart.ganttProject();
    var timeline = chart.getTimeline();
    timeline.rowEvenFill("gray 0.3");
    timeline.rowOddFill("gray 0.1");
    timeline.rowHoverFill("#ffd54f 0.3");
    timeline.rowSelectedFill("#ffd54f 0.3");
    timeline.columnStroke(null);
    // configure tooltips of the timeline
    chart.getTimeline().tooltip().useHtml(true);    
    chart.getTimeline().tooltip().format(
      "<span>" +
      "{%actualStart}{dateTimeFormat:dd MMM} - " +
      "{%actualEnd}{dateTimeFormat:dd MMM}</span><br>" +
      "Description: {%Description}");
    // set the data
    chart.data(treeData);
    // configure the scale
    chart.getTimeline().scale().maximum(Date.now);
    // set the container id
    chart.container("container");

    // initiate drawing the chart
    chart.draw();
    // fit elements to the width of the timeline
    chart.fitAll();
    // configure the visual settings of the timeline

  });
</script>
</body>
</html>
<%- include("footer"); %>
